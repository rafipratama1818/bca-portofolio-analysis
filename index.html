import React, { useState, useEffect } from 'react';
import { LineChart, Line, AreaChart, Area, BarChart, Bar, XAxis, YAxis, CartesianGrid, Tooltip, Legend, ResponsiveContainer, ComposedChart } from 'recharts';
import { TrendingUp, TrendingDown, DollarSign, Activity, AlertCircle, BarChart3, Download, FileText, Table } from 'lucide-react';

// Generate realistic 5-year historical data for BCA with proper bounds
const generateBCAHistoricalData = () => {
  const data = [];
  const startDate = new Date('2020-01-01');
  const endDate = new Date('2024-12-31');
  
  let currentDate = new Date(startDate);
  let price = 28000; // Starting price in IDR (realistic BCA price range: 25k-40k)
  
  while (currentDate <= endDate) {
    // Skip weekends
    if (currentDate.getDay() !== 0 && currentDate.getDay() !== 6) {
      // Daily return between -2% and +2% with slight upward bias
      const dailyReturn = (Math.random() - 0.48) * 0.02; // Slight upward bias
      price = price * (1 + dailyReturn);
      
      // Keep price in realistic bounds (20k to 45k)
      price = Math.max(20000, Math.min(45000, price));
      
      // Add some trend patterns
      const dayOfYear = Math.floor((currentDate - startDate) / (1000 * 60 * 60 * 24));
      
      // COVID dip (March-May 2020)
      if (currentDate >= new Date('2020-03-01') && currentDate <= new Date('2020-05-31')) {
        price = price * 0.9997; // Gradual decline
      }
      
      // Recovery and growth phase
      if (currentDate >= new Date('2020-06-01') && currentDate <= new Date('2021-12-31')) {
        price = price * 1.0003; // Gradual recovery
      }
      
      // Add realistic volatility
      const volatility = (Math.random() - 0.5) * 200;
      const finalPrice = Math.max(20000, Math.min(45000, price + volatility));
      
      data.push({
        date: currentDate.toISOString().split('T')[0],
        close: Math.round(finalPrice),
        open: Math.round(finalPrice - (Math.random() - 0.5) * 100),
        high: Math.round(finalPrice + Math.random() * 150),
        low: Math.round(finalPrice - Math.random() * 150),
        volume: Math.floor(5000000 + Math.random() * 10000000)
      });
    }
    
    currentDate.setDate(currentDate.getDate() + 1);
  }
  
  return data;
};

// Technical indicator calculations
const calculateSMA = (data, period) => {
  const result = [];
  for (let i = 0; i < data.length; i++) {
    if (i < period - 1) {
      result.push(null);
    } else {
      const sum = data.slice(i - period + 1, i + 1).reduce((a, b) => a + b.close, 0);
      result.push(sum / period);
    }
  }
  return result;
};

const calculateEMA = (data, period) => {
  const result = [];
  const multiplier = 2 / (period + 1);
  let ema = data[0].close;
  
  result.push(ema);
  for (let i = 1; i < data.length; i++) {
    ema = (data[i].close - ema) * multiplier + ema;
    result.push(ema);
  }
  return result;
};

const calculateRSI = (data, period = 14) => {
  const changes = [];
  for (let i = 1; i < data.length; i++) {
    changes.push(data[i].close - data[i - 1].close);
  }
  
  const result = [null];
  for (let i = period; i < changes.length; i++) {
    const gains = changes.slice(i - period, i).filter(x => x > 0);
    const losses = changes.slice(i - period, i).filter(x => x < 0).map(x => Math.abs(x));
    
    const avgGain = gains.length > 0 ? gains.reduce((a, b) => a + b, 0) / period : 0;
    const avgLoss = losses.length > 0 ? losses.reduce((a, b) => a + b, 0) / period : 0;
    
    const rs = avgLoss === 0 ? 100 : avgGain / avgLoss;
    const rsi = 100 - (100 / (1 + rs));
    result.push(rsi);
  }
  return result;
};

const calculateBollingerBands = (data, period = 20, stdDev = 2) => {
  const sma = calculateSMA(data, period);
  const upper = [];
  const lower = [];
  
  for (let i = 0; i < data.length; i++) {
    if (i < period - 1) {
      upper.push(null);
      lower.push(null);
    } else {
      const slice = data.slice(i - period + 1, i + 1);
      const mean = sma[i];
      const variance = slice.reduce((sum, item) => sum + Math.pow(item.close - mean, 2), 0) / period;
      const std = Math.sqrt(variance);
      
      upper.push(mean + (stdDev * std));
      lower.push(mean - (stdDev * std));
    }
  }
  
  return { upper, middle: sma, lower };
};

const PortfolioAnalyzer = () => {
  const [historicalData] = useState(() => generateBCAHistoricalData());
  const [selectedTimeframe, setSelectedTimeframe] = useState('ALL');
  const [showExportMenu, setShowExportMenu] = useState(false);

  // Filter data based on timeframe
  const getFilteredData = () => {
    const endDate = new Date(historicalData[historicalData.length - 1].date);
    let startDate;
    
    switch (selectedTimeframe) {
      case '1Y':
        startDate = new Date(endDate);
        startDate.setFullYear(endDate.getFullYear() - 1);
        break;
      case '2Y':
        startDate = new Date(endDate);
        startDate.setFullYear(endDate.getFullYear() - 2);
        break;
      case '3Y':
        startDate = new Date(endDate);
        startDate.setFullYear(endDate.getFullYear() - 3);
        break;
      case 'YTD':
        startDate = new Date(endDate.getFullYear(), 0, 1);
        break;
      case 'ALL':
      default:
        return historicalData;
    }
    
    return historicalData.filter(d => new Date(d.date) >= startDate);
  };

  const filteredData = getFilteredData();

  // Calculate all technical indicators
  const sma20 = calculateSMA(filteredData, 20);
  const sma50 = calculateSMA(filteredData, 50);
  const sma200 = calculateSMA(filteredData, 200);
  const ema12 = calculateEMA(filteredData, 12);
  const ema26 = calculateEMA(filteredData, 26);
  const rsi = calculateRSI(filteredData, 14);
  const bollingerBands = calculateBollingerBands(filteredData, 20, 2);

  // Calculate performance metrics
  const currentPrice = filteredData[filteredData.length - 1].close;
  const startPrice = filteredData[0].close;
  const totalReturn = ((currentPrice - startPrice) / startPrice) * 100;
  
  // Calculate annual returns for each year
  const yearlyReturns = [];
  for (let year = 2020; year <= 2024; year++) {
    const yearData = historicalData.filter(d => new Date(d.date).getFullYear() === year);
    if (yearData.length > 0) {
      const yearStart = yearData[0].close;
      const yearEnd = yearData[yearData.length - 1].close;
      const yearReturn = ((yearEnd - yearStart) / yearStart) * 100;
      yearlyReturns.push({ year, return: yearReturn });
    }
  }

  // Calculate volatility
  const returns = filteredData.slice(1).map((d, i) => 
    (d.close - filteredData[i].close) / filteredData[i].close
  );
  const avgReturn = returns.reduce((a, b) => a + b, 0) / returns.length;
  const variance = returns.reduce((sum, r) => sum + Math.pow(r - avgReturn, 2), 0) / returns.length;
  const volatility = Math.sqrt(variance * 252) * 100;

  // Calculate Sharpe Ratio (assuming 5% risk-free rate)
  const riskFreeRate = 0.05;
  const annualizedReturn = (Math.pow(currentPrice / startPrice, 365 / filteredData.length) - 1);
  const sharpeRatio = (annualizedReturn - riskFreeRate) / (Math.sqrt(variance * 252));

  // Calculate Maximum Drawdown
  let maxPrice = filteredData[0].close;
  let maxDrawdown = 0;
  filteredData.forEach(d => {
    maxPrice = Math.max(maxPrice, d.close);
    const drawdown = ((d.close - maxPrice) / maxPrice) * 100;
    maxDrawdown = Math.min(maxDrawdown, drawdown);
  });

  // Prepare chart data
  const priceChartData = filteredData.map((item, index) => ({
    date: item.date,
    price: item.close,
    sma20: sma20[index],
    sma50: sma50[index],
    sma200: sma200[index],
    bbUpper: bollingerBands.upper[index],
    bbLower: bollingerBands.lower[index]
  }));

  const rsiChartData = filteredData.map((item, index) => ({
    date: item.date,
    rsi: rsi[index]
  })).filter(item => item.rsi !== null);

  // Export functions
  const exportToCSV = () => {
    const headers = ['Date', 'Open', 'High', 'Low', 'Close', 'Volume', 'SMA20', 'SMA50', 'RSI'];
    const rows = filteredData.map((item, index) => [
      item.date,
      item.open,
      item.high,
      item.low,
      item.close,
      item.volume,
      sma20[index] || '',
      sma50[index] || '',
      rsi[index] || ''
    ]);
    
    const csvContent = [
      headers.join(','),
      ...rows.map(row => row.join(','))
    ].join('\n');
    
    const blob = new Blob([csvContent], { type: 'text/csv' });
    const url = window.URL.createObjectURL(blob);
    const link = document.createElement('a');
    link.href = url;
    link.download = `BCA_Portfolio_Analysis_${selectedTimeframe}.csv`;
    link.click();
    setShowExportMenu(false);
  };

  const exportToJSON = () => {
    const exportData = {
      company: 'PT Bank Central Asia Tbk',
      ticker: 'BBCA.JK',
      timeframe: selectedTimeframe,
      analysis_date: new Date().toISOString(),
      summary: {
        current_price: currentPrice,
        total_return_pct: totalReturn.toFixed(2),
        volatility_pct: volatility.toFixed(2),
        sharpe_ratio: sharpeRatio.toFixed(2),
        max_drawdown_pct: maxDrawdown.toFixed(2)
      },
      yearly_returns: yearlyReturns,
      data: filteredData.map((item, index) => ({
        ...item,
        sma20: sma20[index],
        sma50: sma50[index],
        sma200: sma200[index],
        rsi: rsi[index]
      }))
    };
    
    const blob = new Blob([JSON.stringify(exportData, null, 2)], { type: 'application/json' });
    const url = window.URL.createObjectURL(blob);
    const link = document.createElement('a');
    link.href = url;
    link.download = `BCA_Portfolio_Analysis_${selectedTimeframe}.json`;
    link.click();
    setShowExportMenu(false);
  };

  const exportSummaryReport = () => {
    const report = `
PORTFOLIO ANALYSIS REPORT
PT Bank Central Asia Tbk (BBCA.JK)
Generated: ${new Date().toLocaleDateString('id-ID')}
Analysis Period: ${selectedTimeframe}

═══════════════════════════════════════════════════════════

EXECUTIVE SUMMARY
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

Current Price:           Rp ${currentPrice.toLocaleString('id-ID')}
Total Return:            ${totalReturn >= 0 ? '+' : ''}${totalReturn.toFixed(2)}%
Annualized Volatility:   ${volatility.toFixed(2)}%
Sharpe Ratio:            ${sharpeRatio.toFixed(2)}
Maximum Drawdown:        ${maxDrawdown.toFixed(2)}%

YEARLY PERFORMANCE
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
${yearlyReturns.map(y => `${y.year}:  ${y.return >= 0 ? '+' : ''}${y.return.toFixed(2)}%`).join('\n')}

CURRENT TECHNICAL INDICATORS
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
SMA 20:    Rp ${sma20[sma20.length - 1]?.toFixed(0).toLocaleString('id-ID') || 'N/A'}
SMA 50:    Rp ${sma50[sma50.length - 1]?.toFixed(0).toLocaleString('id-ID') || 'N/A'}
SMA 200:   Rp ${sma200[sma200.length - 1]?.toFixed(0).toLocaleString('id-ID') || 'N/A'}
RSI (14):  ${rsi[rsi.length - 1]?.toFixed(2) || 'N/A'}

ANALYSIS NOTES
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
This analysis covers ${filteredData.length} trading days.
Data includes: Open, High, Low, Close prices and Volume.
Technical indicators: SMA, EMA, RSI, Bollinger Bands.

═══════════════════════════════════════════════════════════
Report prepared by: Rafi Pratama
Contact: rafipratama1818@gmail.com
    `.trim();
    
    const blob = new Blob([report], { type: 'text/plain' });
    const url = window.URL.createObjectURL(blob);
    const link = document.createElement('a');
    link.href = url;
    link.download = `BCA_Analysis_Report_${selectedTimeframe}.txt`;
    link.click();
    setShowExportMenu(false);
  };

  const currentRSI = rsi[rsi.length - 1];
  const getSignal = () => {
    if (!currentRSI) return { text: 'CALCULATING', color: 'text-slate-400', bg: 'bg-slate-700/20' };
    if (currentRSI > 70) return { text: 'OVERBOUGHT', color: 'text-red-400', bg: 'bg-red-900/20' };
    if (currentRSI < 30) return { text: 'OVERSOLD', color: 'text-green-400', bg: 'bg-green-900/20' };
    return { text: 'NEUTRAL', color: 'text-blue-400', bg: 'bg-blue-900/20' };
  };
  const signal = getSignal();

  return (
    <div className="min-h-screen bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900 p-6">
      {/* Header */}
      <div className="max-w-7xl mx-auto mb-6">
        <div className="flex items-center justify-between mb-4">
          <div>
            <h1 className="text-4xl font-bold text-white mb-1">PT Bank Central Asia Tbk</h1>
            <p className="text-slate-400 text-sm">IDX: BBCA • 5-Year Portfolio Analysis (2020-2024)</p>
          </div>
          <div className="relative">
            <button
              onClick={() => setShowExportMenu(!showExportMenu)}
              className="flex items-center gap-2 bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg transition-colors"
            >
              <Download size={20} />
              Export Data
            </button>
            
            {showExportMenu && (
              <div className="absolute right-0 mt-2 w-56 bg-slate-800 border border-slate-700 rounded-lg shadow-xl z-10">
                <button
                  onClick={exportToCSV}
                  className="w-full flex items-center gap-3 px-4 py-3 hover:bg-slate-700 text-left text-white transition-colors"
                >
                  <Table size={18} />
                  <span>Export to CSV</span>
                </button>
                <button
                  onClick={exportToJSON}
                  className="w-full flex items-center gap-3 px-4 py-3 hover:bg-slate-700 text-left text-white transition-colors"
                >
                  <FileText size={18} />
                  <span>Export to JSON</span>
                </button>
                <button
                  onClick={exportSummaryReport}
                  className="w-full flex items-center gap-3 px-4 py-3 hover:bg-slate-700 text-left text-white transition-colors rounded-b-lg"
                >
                  <BarChart3 size={18} />
                  <span>Export Summary Report</span>
                </button>
              </div>
            )}
          </div>
        </div>

        {/* Timeframe Selector */}
        <div className="flex gap-2">
          {['1Y', '2Y', '3Y', 'YTD', 'ALL'].map(tf => (
            <button
              key={tf}
              onClick={() => setSelectedTimeframe(tf)}
              className={`px-4 py-2 rounded-lg transition-colors ${
                selectedTimeframe === tf
                  ? 'bg-blue-600 text-white'
                  : 'bg-slate-700/50 text-slate-300 hover:bg-slate-700'
              }`}
            >
              {tf === 'ALL' ? '5 Years' : tf}
            </button>
          ))}
        </div>
      </div>

      {/* Price Overview */}
      <div className="max-w-7xl mx-auto mb-6">
        <div className="bg-slate-800/50 backdrop-blur-sm rounded-lg p-6 border border-slate-700">
          <div className="flex items-end justify-between">
            <div>
              <div className="text-slate-400 text-sm mb-1">Current Price</div>
              <div className="text-5xl font-bold text-white mb-2">
                Rp {currentPrice.toLocaleString('id-ID')}
              </div>
              <div className="flex items-center gap-3">
                <div className={`flex items-center gap-1 ${totalReturn >= 0 ? 'text-green-400' : 'text-red-400'}`}>
                  {totalReturn >= 0 ? <TrendingUp size={20} /> : <TrendingDown size={20} />}
                  <span className="text-xl font-semibold">
                    {totalReturn >= 0 ? '+' : ''}{totalReturn.toFixed(2)}% Total Return
                  </span>
                </div>
                <div className={`px-3 py-1 rounded-full text-sm font-medium ${signal.bg} ${signal.color}`}>
                  {signal.text}
                </div>
              </div>
            </div>
            
            <div className="grid grid-cols-4 gap-6">
              {yearlyReturns.slice(-4).map(({ year, return: ret }) => (
                <div key={year} className="text-right">
                  <div className="text-slate-400 text-sm mb-1">{year}</div>
                  <div className={`text-lg font-semibold ${ret >= 0 ? 'text-green-400' : 'text-red-400'}`}>
                    {ret >= 0 ? '+' : ''}{ret.toFixed(2)}%
                  </div>
                </div>
              ))}
            </div>
          </div>
        </div>
      </div>

      {/* Key Metrics */}
      <div className="max-w-7xl mx-auto mb-6 grid grid-cols-4 gap-4">
        <div className="bg-slate-800/50 backdrop-blur-sm rounded-lg p-4 border border-slate-700">
          <div className="flex items-center gap-2 mb-2">
            <Activity className="text-blue-400" size={20} />
            <span className="text-slate-400 text-sm">RSI (14)</span>
          </div>
          <div className="text-2xl font-bold text-white">{currentRSI?.toFixed(2) || 'N/A'}</div>
          <div className="text-xs text-slate-400 mt-1">Momentum Indicator</div>
        </div>
        
        <div className="bg-slate-800/50 backdrop-blur-sm rounded-lg p-4 border border-slate-700">
          <div className="flex items-center gap-2 mb-2">
            <AlertCircle className="text-purple-400" size={20} />
            <span className="text-slate-400 text-sm">Volatility</span>
          </div>
          <div className="text-2xl font-bold text-white">{volatility.toFixed(2)}%</div>
          <div className="text-xs text-slate-400 mt-1">Annualized</div>
        </div>
        
        <div className="bg-slate-800/50 backdrop-blur-sm rounded-lg p-4 border border-slate-700">
          <div className="flex items-center gap-2 mb-2">
            <BarChart3 className="text-green-400" size={20} />
            <span className="text-slate-400 text-sm">Sharpe Ratio</span>
          </div>
          <div className="text-2xl font-bold text-white">{sharpeRatio.toFixed(2)}</div>
          <div className="text-xs text-slate-400 mt-1">Risk-Adjusted Return</div>
        </div>
        
        <div className="bg-slate-800/50 backdrop-blur-sm rounded-lg p-4 border border-slate-700">
          <div className="flex items-center gap-2 mb-2">
            <TrendingDown className="text-red-400" size={20} />
            <span className="text-slate-400 text-sm">Max Drawdown</span>
          </div>
          <div className="text-2xl font-bold text-white">{maxDrawdown.toFixed(2)}%</div>
          <div className="text-xs text-slate-400 mt-1">Largest Peak-to-Trough</div>
        </div>
      </div>

      {/* Main Price Chart */}
      <div className="max-w-7xl mx-auto mb-6">
        <div className="bg-slate-800/50 backdrop-blur-sm rounded-lg p-6 border border-slate-700">
          <h2 className="text-xl font-semibold text-white mb-4">Price Action & Moving Averages</h2>
          <ResponsiveContainer width="100%" height={400}>
            <ComposedChart data={priceChartData}>
              <CartesianGrid strokeDasharray="3 3" stroke="#334155" />
              <XAxis 
                dataKey="date" 
                stroke="#94a3b8"
                tick={{ fontSize: 11 }}
                tickFormatter={(value) => new Date(value).toLocaleDateString('id-ID', { month: 'short', year: '2-digit' })}
                interval={Math.floor(priceChartData.length / 12)}
              />
              <YAxis 
                stroke="#94a3b8"
                tick={{ fontSize: 11 }}
                domain={['dataMin - 1000', 'dataMax + 1000']}
                tickFormatter={(value) => `${(value / 1000).toFixed(0)}k`}
              />
              <Tooltip 
                contentStyle={{ 
                  backgroundColor: '#1e293b', 
                  border: '1px solid #475569',
                  borderRadius: '8px'
                }}
                labelFormatter={(value) => new Date(value).toLocaleDateString('id-ID')}
                formatter={(value, name) => {
                  if (value === null) return [null, name];
                  return [`Rp ${parseFloat(value).toLocaleString('id-ID')}`, name];
                }}
              />
              <Legend />
              <Area 
                type="monotone" 
                dataKey="bbUpper" 
                stroke="none" 
                fill="#6366f1" 
                fillOpacity={0.1}
                name="BB Upper"
              />
              <Area 
                type="monotone" 
                dataKey="bbLower" 
                stroke="none" 
                fill="#6366f1" 
                fillOpacity={0.1}
                name="BB Lower"
              />
              <Line 
                type="monotone" 
                dataKey="price" 
                stroke="#3b82f6" 
                strokeWidth={2.5}
                name="Close Price"
                dot={false}
              />
              <Line 
                type="monotone" 
                dataKey="sma20" 
                stroke="#22c55e" 
                strokeWidth={1.5}
                strokeDasharray="5 5"
                name="SMA 20"
                dot={false}
                connectNulls
              />
              <Line 
                type="monotone" 
                dataKey="sma50" 
                stroke="#f59e0b" 
                strokeWidth={1.5}
                strokeDasharray="5 5"
                name="SMA 50"
                dot={false}
                connectNulls
              />
              <Line 
                type="monotone" 
                dataKey="sma200" 
                stroke="#ef4444" 
                strokeWidth={1.5}
                strokeDasharray="3 3"
                name="SMA 200"
                dot={false}
                connectNulls
              />
            </ComposedChart>
          </ResponsiveContainer>
        </div>
      </div>

      {/* Bottom Row: RSI and Yearly Returns */}
      <div className="max-w-7xl mx-auto mb-6 grid grid-cols-2 gap-6">
        {/* RSI Chart */}
        <div className="bg-slate-800/50 backdrop-blur-sm rounded-lg p-6 border border-slate-700">
          <h2 className="text-xl font-semibold text-white mb-4">Relative Strength Index (RSI)</h2>
          <ResponsiveContainer width="100%" height={250}>
            <AreaChart data={rsiChartData}>
              <CartesianGrid strokeDasharray="3 3" stroke="#334155" />
              <XAxis 
                dataKey="date" 
                stroke="#94a3b8"
                tick={{ fontSize: 11 }}
                tickFormatter={(value) => new Date(value).toLocaleDateString('id-ID', { month: 'short', year: '2-digit' })}
                interval={Math.floor(rsiChartData.length / 8)}
              />
              <YAxis 
                stroke="#94a3b8"
                tick={{ fontSize: 11 }}
                domain={[0, 100]}
              />
              <Tooltip 
                contentStyle={{ 
                  backgroundColor: '#1e293b', 
                  border: '1px solid #475569',
                  borderRadius: '8px'
                }}
                labelFormatter={(value) => new Date(value).toLocaleDateString('id-ID')}
              />
              <Area 
                type="monotone" 
                dataKey="rsi" 
                stroke="#8b5cf6" 
                fill="#8b5cf6"
                fillOpacity={0.3}
              />
            </AreaChart>
          </ResponsiveContainer>
          <div className="flex justify-between mt-2 text-xs text-slate-400">
            <span>Overbought: &gt;70</span>
            <span>Oversold: &lt;30</span>
          </div>
        </div>

        {/* Yearly Returns */}
        <div className="bg-slate-800/50 backdrop-blur-sm rounded-lg p-6 border border-slate-700">
          <h2 className="text-xl font-semibold text-white mb-4">Annual Returns by Year</h2>
          <ResponsiveContainer width="100%" height={250}>
            <BarChart data={yearlyReturns}>
              <CartesianGrid strokeDasharray="3 3" stroke="#334155" />
              <XAxis dataKey="year" stroke="#94a3b8" tick={{ fontSize: 12 }} />
              <YAxis stroke="#94a3b8" tick={{ fontSize: 12 }} />
              <Tooltip 
                contentStyle={{ 
                  backgroundColor: '#1e293b', 
                  border: '1px solid #475569',
                  borderRadius: '8px'
                }}
                formatter={(value) => [`${value.toFixed(2)}%`, 'Return']}
              />
              <Bar dataKey="return" fill="#3b82f6" />
            </BarChart>
          </ResponsiveContainer>
        </div>
      </div>

      {/* Footer */}
      <div className="max-w-7xl mx-auto text-center text-slate-400 text-sm">
        <p className="font-medium">Portfolio Analysis Tool • Developed by Rafi Pratama</p>
        <p className="mt-1">5-Year Technical Analysis with SMA, EMA, RSI, Bollinger Bands & Risk Metrics</p>
        <p className="mt-1 text-xs">Data covers {filteredData.length} trading days • Indonesian Banking Sector Analysis</p>
      </div>
    </div>
  );
};

export default PortfolioAnalyzer;